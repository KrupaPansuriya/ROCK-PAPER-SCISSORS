<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">

    <title>Rock, Paper, Scissors</title>


</head>

<body>

    <h1>Rock, Paper, Scissors</h1>

    <div class="game">

        <script>

            // User selection
            function userPlay() {
                var playerSelection = prompt("What do you choose: rock , paper or scissors?");
                playerSelection = playerSelection.toLowerCase();

                if (!playerSelection) {
                    // User selection was undefined
                    console.log("Player 1, you cheated! Refresh this screen and fight like a man.");
                    return null;
                } else {
                    // Display user selection
                    return playerSelection;
                }

            }


            // Computer selection
            function computerPlay() {
                var computerSelection = Math.random();
                if (computerSelection < 0.34) {
                    computerSelection = "rock";
                } else if (computerSelection <= 0.67) {
                    computerSelection = "paper";
                } else {
                    computerSelection = "scissors";
                }

                // Display computer selection
                return computerSelection;
            }

            // Compare user selection vs computer selection
            function checkWinner(user, computer) {
                console.log('Player : ' + user);
                console.log('Computer : ' + computer);
                if (user === computer) {
                    return "Draw";
                }
                if (user === "rock") {
                    if (computer === "scissors") {
                        // rock wins
                        return "Player";
                    } else {
                        // paper wins
                        return "Computer";
                    }
                }
                if (user === "paper") {
                    if (computer === "rock") {
                        // paper wins
                        return "Player";
                    } else {
                        // rock wins
                        return "Computer";
                    }
                }
                if (user === "scissors") {
                    if (computer === "rock") {
                        // rock wins
                        return "Computer";
                    } else {

                        return "Player";
                    }
                }
            };



            function game() {
               
                let computerSelection = computerPlay();
                let playerSelection = userPlay();
                let result = checkWinner(playerSelection, computerSelection);

                //output selection to the DOM
                if (result === 'Player') {
                    result += ' wins!';
                    //update score
                    winnerScores[0]++;
                }

                if (result === 'Computer') {
                    result += ' wins!';
                    winnerScores[1]++;
                }

                if (result === 'Draw') {
                    result += '. It\'s a tie!'
                }
                
                // Display results
                console.log(result);
                console.log('Player: [ ' + winnerScores[0] + ' ] Computer: [ ' + winnerScores[1] + ' ]');
            }

            function roundPlay()
            {
                for(i=0 ; i<5; i++){
                    game();
                }
               
            }
            let winnerScores = [0, 0];
            roundPlay();
        </script>

    </div>

</body>

</html>